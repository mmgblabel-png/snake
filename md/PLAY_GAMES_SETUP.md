# Google Play Games Services Setup Guide

## Current Status
✅ **Leaderboard ID configured**: `CgkIubXyqpcZEAIQAQ`  
✅ **Achievements**: Created in Play Console (replace placeholders in resources when real IDs differ)

---

## Achievements Defined (Placeholders until you paste real IDs)
The app now loads all IDs from `res/values/strings.xml`. Update those strings instead of editing Kotlin code.

| # | Name | String Resource Key | Placeholder ID | Type | Points | Unlock Condition |
|---|------|---------------------|----------------|------|--------|------------------|
| 1 | First Steps | `achievement_first_game_id` | CgkIubXyqpcZEAIQAg | Standard | 5 | Finish any game |
| 2 | Century Club | `achievement_100_score_id` | CgkIubXyqpcZEAIQAw | Standard | 10 | Score ≥ 100 |
| 3 | Python Master | `achievement_long_snake_id` | CgkIubXyqpcZEAIQBA | Standard | 15 | Snake length ≥ 20 |
| 4 | High Roller | `achievement_500_score_id` | CgkIubXyqpcZEAIQBQ | Standard | 25 | Score ≥ 500 |
| 5 | Hungry Hungry Snake | `achievement_50_food_id` | CgkIubXyqpcZEAIQBg | Incremental (single unlock) | 20 | Total food eaten ≥ 50 |
| 6 | Combo Master | `achievement_10_combo_id` | CgkIubXyqpcZEAIQBw | Standard | 30 | Highest combo ≥ 10 |

> NOTE: Do **not** reuse the leaderboard ID (`CgkIubXyqpcZEAIQAQ`) as an achievement ID. Each achievement must have its own unique ID generated by Play Console.

---

## Updating IDs
After creating the achievements in Play Console:
1. Open `app/src/main/res/values/strings.xml`
2. Replace each placeholder value with the real ID Google generated (case-sensitive).
3. Rebuild the app; no Kotlin changes needed since `SnakeApp.kt` reads from resources.

Example snippet (strings.xml):
```xml
<string name="achievement_first_game_id">REPLACE_WITH_REAL_ID</string>
```

---

## Setup Instructions Summary
1. Create / verify leaderboard (`CgkIubXyqpcZEAIQAQ`).
2. Create each achievement in Play Console; copy IDs.
3. Update the string resources.
4. Upload build to Internal testing; play a few sessions to confirm unlocks.

---

## Testing Flow
### Sign In
1. Open Settings (⚙ gear icon)
2. Tap "Sign in" if not already signed in.

### Leaderboard
- Settings → Leaderboard button → Should list scores.

### Achievements
- Settings → Achievements button → Should reflect unlocked items after conditions met.

### Game Over Unlocks
- First Steps: first completed game
- Century Club: score ≥ 100
- High Roller: score ≥ 500
- Python Master: snake length ≥ 20
- Hungry Hungry Snake: cumulative food ≥ 50
- Combo Master: comboCount ≥ 10

Check logcat for lines containing `Unlock achievement failed` for debugging.

---

## Current Configuration
### OAuth Client ID
`865257429689-n4bs2spd4ghrjd7m9uign38a3oe82uce.apps.googleusercontent.com`

### AdMob IDs (Production)
- App ID: `ca-app-pub-5774719445750198~9307094124`
- Banner: `ca-app-pub-5774719445750198/3626405922`
- Interstitial: `ca-app-pub-5774719445750198/2346496733`
- Native (not yet integrated): `ca-app-pub-5774719445750198/9672939522`

### Play Billing Products (Code-side placeholders)
- Remove Ads: `remove_ads`
- Booster Pack: `booster_pack`
- Super Boost: `super_boost`

---

## Troubleshooting
**Sign in failed**
- Ensure Internal track release exists.
- Verify OAuth consent screen and SHA-1 (release & debug) fingerprints added.

**Leaderboard not found**
- Confirm it’s published; allow up to 24h propagation.

**Achievement not unlocking**
- Confirm correct ID in strings.xml.
- Confirm you were signed in before game over.
- Check logcat for Play Games errors.

**Scores not appearing**
- Network/connectivity or propagation delay; verify sign-in.

---

## Production Checklist
- [ ] All achievement IDs replaced in `strings.xml`
- [ ] Leaderboard visible & submissions working
- [ ] Achievements unlock tested
- [ ] SHA-1 release & debug added to Play Games config
- [ ] OAuth consent screen approved
- [ ] Play Games Services APIs enabled in Google Cloud project
- [ ] Internal testing track active
- [ ] AdMob account approved (live ads showing)
- [ ] In-app products created & active (Billing tests passed)

---

## Rebuild Command
```bash
./gradlew assembleRelease
```

Once the IDs are real and tested, you’re Play-Games-ready for production.
